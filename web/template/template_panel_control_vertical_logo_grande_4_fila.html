{{/*
  Template: template_panel_control_vertical_logo_grande.html
  Descripción: Panel vertical, 2 tickets por fila, logo grande centrado.
  Variables esperadas: Tickets (slice), Color, logo, header, content, pie, fecha
  Helpers: mod, add, len
*/}}
<style>
@media print {
  @page {
    size: letter portrait;
    margin: 0;
  }
  body {
    margin: 0 !important;
    padding: 0 !important;
    background: #fff !important;
  }
  .pagina {
    width: 816px !important;
    min-height: 1056px !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    margin: 0 auto !important;
    padding: 24px 18px !important;
    background: #fff !important;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-sizing: border-box;
  }
  .fila { page-break-inside: avoid; }
}
</style>
<div class="pagina" style="width:816px;min-height:1056px;margin:24px auto;padding:32px 24px;background:#fff;box-shadow:0 4px 24px #0002;border-radius:12px;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;">
  {{ $n := or $.TicketsPorFila 4 }}
  {{ $total := len .Tickets }}
  {{range $i, $ticket := .Tickets}}
    {{if eq (mod $i $n) 0}}
    <div class="fila" style="display:flex;gap:24px;margin-bottom:24px;justify-content:center;">
    {{end}}
      <div style="flex:1 1 0;max-width:45%;background:{{$.Color}};border:1px dashed #bbb;border-radius:16px;padding:24px 12px;display:flex;flex-direction:column;align-items:center;box-shadow:0 2px 8px #0001;min-width:110px;">
        {{ if $ticket.URI_LOGO }}
          <img src="{{$ticket.URI_LOGO}}" alt="Logo" style="width:70px;height:70px;object-fit:contain;border-radius:12px;margin-bottom:16px;" />
        {{ end }}
        <div style="font-size:17px;font-weight:bold;margin-bottom:10px;">{{$ticket.ENCABEZADO}} N°{{$ticket.CORRELATIVO}}</div>
        <div style="font-size:15px;text-align:center;margin-bottom:10px;">{{$ticket.CONTENT}}</div>
        <div style="font-size:12px;color:#666;text-align:right;width:100%;">{{$ticket.FECHA_ACTUAL}}</div>
        {{ if $ticket.PIE }}
          <div style="font-size:13px;color:#999;text-align:center;width:100%;margin-top:12px;">{{$ticket.PIE}}</div>
        {{ end }}
      </div>
    {{ $next := add $i 1 }}
    {{if or (eq (mod $next $n) 0) (eq $next $total)}}
    </div>
    {{end}}
  {{end}}
</div>
